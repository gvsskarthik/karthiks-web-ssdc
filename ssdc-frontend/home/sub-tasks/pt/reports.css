html,
body{
  background:#ffffff;
}

:root{
  /* "Lines" are stored as integers in DB. We convert lines -> mm here. */
  --ssdc-letterhead-line-mm: 4mm;
  --ssdc-letterhead-top-lines: 0;
  --ssdc-letterhead-bottom-lines: 0;
  --ssdc-letterhead-left-lines: 0;
  --ssdc-letterhead-right-lines: 0;

  --ssdc-letterhead-top: calc(var(--ssdc-letterhead-top-lines) * var(--ssdc-letterhead-line-mm));
  --ssdc-letterhead-bottom: calc(var(--ssdc-letterhead-bottom-lines) * var(--ssdc-letterhead-line-mm));
  --ssdc-letterhead-left: calc(var(--ssdc-letterhead-left-lines) * var(--ssdc-letterhead-line-mm));
  --ssdc-letterhead-right: calc(var(--ssdc-letterhead-right-lines) * var(--ssdc-letterhead-line-mm));
}

/* ================= SCREEN (A4 NEO-CARDS) ================= */
.report-pages{
  display:block;
  padding:14px 0;
}

.neo-card.report-page-card{
  width:210mm;
  height:297mm;
  max-width:none;
  margin:14px auto;
  padding:10mm;
  box-sizing:border-box;
  background:#fff;
  box-shadow:none;
}

body[data-report-mode="letterhead"] .neo-card.report-page-card{
  padding-top: calc(10mm + var(--ssdc-letterhead-top));
  padding-bottom: calc(10mm + var(--ssdc-letterhead-bottom));
  padding-left: calc(10mm + var(--ssdc-letterhead-left));
  padding-right: calc(10mm + var(--ssdc-letterhead-right));
}

.report-page-content{
  height:100%;
  box-sizing:border-box;
  display:grid;
  grid-template-rows:auto auto 1fr auto;
  gap:10px;
  overflow:hidden;
}

.neo-card.report-page-card.is-letterhead .report-page-content{
  grid-template-rows:auto 1fr auto; /* patient, table, footer */
}

.report-page-table-wrap{
  overflow:hidden;
}

.report-print-card{
  display:none;
}

/* TABLE (shared) */
.report-table{
  width:100%;
  border-collapse:collapse;
}

.report-table .report-meta-row td{
  border:none;
  padding:0;
}

table th{
  background:#ffffff;
}

.report-table tbody,
.report-table .report-cols{
  font-size:10px;
}

th,td{
  padding:4px;
}

.save{background:#27ae60;color:#fff}
.complete{background:#f39c12;color:#fff}
.download{background:#8e44ad;color:#fff}
.whatsapp{background:#25d366;color:#fff}

.actions .btn:disabled{
  opacity:0.55;
  cursor:not-allowed;
  filter:saturate(0.8);
}

.legend{
  margin-top:10px;
  font-size:11px;
}

.legend-abnormal{
  color: var(--theme-danger);
  font-weight: 700;
}

.param-indent{
  padding-left: 20px;
}

.is-abnormal{
  color: var(--theme-danger);
}

.group-header-row td{
  padding-top:8px;
  padding-bottom:4px;
}

.group-heading{
  margin:0;
  font-size:11px;
  font-weight:700;
  letter-spacing:0.6px;
  line-height:1.2;
}

.section-header td{
  padding-top:8px;
  font-size:11px;
  font-weight:bold;
}

.report-footer{
  display:flex;
  flex-direction:column;
  gap:0px;
  font-size:11px;
  font-weight:700;
  letter-spacing:0.3px;
}

.report-table tfoot .legend{
  margin-top:10px;
}

.report-table tfoot .report-footer{
  margin-top:8px;
}

.report-signature{
  text-align:right;
  padding-right:100px;
}

.report-clinical{
  text-align:left;
}

@media print{
  html,body{
    background:#fff;
    color:#000;
  }

  /* Print/download uses the paged A4 cards so groups don't split across pages. */
  .report-pages{
    display:block !important;
    padding:0 !important;
  }

  .report-print-card{
    display:none !important;
  }

  @page{
    size:A4;
    margin:0;
  }

  body{
    margin:0;
    padding:0 !important;
  }

  .neo-card.report-page-card{
    margin:0 !important;
    box-shadow:none;
    break-after:page;
    page-break-after:always;
  }

  .neo-card.report-page-card:last-child{
    break-after:auto;
    page-break-after:auto;
  }

  .report-table thead{
    display:table-header-group;
  }

  .report-table tfoot{
    display:table-footer-group;
  }

  .report-table tr{
    break-inside:avoid;
    page-break-inside:avoid;
  }
}
